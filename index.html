<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PMR - Privacy-centric Motion Retargeting</title>
    <meta name="description" content="Anonymizing skeleton-based motion data while preserving action utility through adversarial deep learning">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Mermaid for diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    
    <style>
        :root {
            --bg-primary: #0a0e27;
            --bg-secondary: #151932;
            --bg-tertiary: #1e2442;
            --text-primary: #e4e4e7;
            --text-secondary: #a1a1aa;
            --accent-primary: #6366f1;
            --accent-secondary: #8b5cf6;
            --accent-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --border: #27293d;
            --shadow: rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Animated background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.3;
        }

        .bg-animation::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 20% 50%, rgba(99, 102, 241, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            padding: 1rem 0;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 800;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--accent-primary);
        }

        /* Hero Section */
        .hero {
            padding: 8rem 2rem 4rem;
            text-align: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .hero .subtitle {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-weight: 300;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.875rem 2rem;
            border-radius: 0.5rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--accent-gradient);
            color: white;
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 30px rgba(99, 102, 241, 0.6);
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--bg-secondary);
            border-color: var(--accent-primary);
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }

        /* Section */
        section {
            margin-bottom: 6rem;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-align: center;
        }

        .section-subtitle {
            text-align: center;
            color: var(--text-secondary);
            font-size: 1.125rem;
            margin-bottom: 3rem;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--border);
            overflow-x: auto;
        }

        .tab {
            padding: 1rem 1.5rem;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
            white-space: nowrap;
        }

        .tab.active {
            color: var(--accent-primary);
            border-bottom-color: var(--accent-primary);
        }

        .tab:hover {
            color: var(--text-primary);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 1rem;
            padding: 2rem;
            transition: all 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-primary);
            box-shadow: 0 10px 40px var(--shadow);
        }

        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .card p {
            color: var(--text-secondary);
        }

        /* Results Table */
        .results-table {
            width: 100%;
            background: var(--bg-secondary);
            border-radius: 1rem;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .results-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .results-table th,
        .results-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .results-table th {
            background: var(--bg-tertiary);
            font-weight: 600;
            color: var(--accent-primary);
        }

        .results-table tr:last-child td {
            border-bottom: none;
        }

        .results-table tr:hover {
            background: var(--bg-tertiary);
        }

        .highlight {
            color: var(--success);
            font-weight: 600;
        }

        /* Code Block */
        .code-block {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1.5rem;
            overflow-x: auto;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.875rem;
            line-height: 1.6;
        }

        /* Mermaid Diagrams */
        .mermaid {
            background: var(--bg-secondary);
            border-radius: 1rem;
            padding: 2rem;
            margin: 2rem 0;
        }

        /* Images */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .image-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 1rem;
            overflow: hidden;
            transition: all 0.3s;
        }

        .image-card:hover {
            transform: scale(1.05);
            border-color: var(--accent-primary);
        }

        .image-card img {
            width: 100%;
            height: auto;
            display: block;
        }

        .image-card .caption {
            padding: 1rem;
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        /* Footer */
        footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border);
            padding: 3rem 2rem;
            text-align: center;
            color: var(--text-secondary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .hero .subtitle {
                font-size: 1.125rem;
            }

            .nav-links {
                display: none;
            }

            .card-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo">PMR</div>
            <ul class="nav-links">
                <li><a href="#overview">Overview</a></li>
                <li><a href="#architecture">Architecture</a></li>
                <li><a href="#results">Results</a></li>
                <li><a href="#usage">Usage</a></li>
                <li><a href="https://github.com/Thomasc33/Privacy-Retargeting" target="_blank">
                    <i class="fab fa-github"></i> GitHub
                </a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero">
        <h1>Privacy-centric Motion Retargeting</h1>
        <p class="subtitle">Anonymizing skeleton-based motion data while preserving action utility through adversarial deep learning</p>
        <div class="hero-buttons">
            <a href="https://github.com/Thomasc33/Privacy-Retargeting" class="btn btn-primary">
                <i class="fab fa-github"></i> View on GitHub
            </a>
            <a href="#usage" class="btn btn-secondary">
                <i class="fas fa-book"></i> Documentation
            </a>
        </div>
    </div>

    <div class="container">
        <!-- Overview Section -->
        <section id="overview">
            <h2 class="section-title">Overview</h2>
            <p class="section-subtitle">Protecting privacy in skeleton-based motion capture while maintaining utility</p>
            
            <div class="card-grid">
                <div class="card">
                    <div class="card-icon"><i class="fas fa-shield-alt"></i></div>
                    <h3>Privacy Protection</h3>
                    <p>Reduces re-identification risk from 87.8% to 7.8% by masking personally identifiable information like body shape, gait patterns, and limb lengths.</p>
                </div>
                <div class="card">
                    <div class="card-icon"><i class="fas fa-running"></i></div>
                    <h3>Action Preservation</h3>
                    <p>Maintains 35.7% action recognition accuracy, significantly outperforming baseline anonymization methods (2-3%).</p>
                </div>
                <div class="card">
                    <div class="card-icon"><i class="fas fa-exchange-alt"></i></div>
                    <h3>Motion Retargeting</h3>
                    <p>Transfers motion from original skeleton to dummy skeleton, effectively replacing identity while preserving movement semantics.</p>
                </div>
                <div class="card">
                    <div class="card-icon"><i class="fas fa-brain"></i></div>
                    <h3>Adversarial Learning</h3>
                    <p>Uses cooperative and adversarial training to disentangle identity from motion without prior knowledge of attack models.</p>
                </div>
                <div class="card">
                    <div class="card-icon"><i class="fas fa-bolt"></i></div>
                    <h3>Fast Inference</h3>
                    <p>Processes 75 frames (~2.5s of motion) in just 0.006 seconds, enabling real-time anonymization applications.</p>
                </div>
                <div class="card">
                    <div class="card-icon"><i class="fas fa-database"></i></div>
                    <h3>Robust Evaluation</h3>
                    <p>Tested on NTU RGB+D 60 and 120 datasets with comprehensive privacy and utility metrics.</p>
                </div>
            </div>
        </section>

        <!-- Architecture Section -->
        <section id="architecture">
            <h2 class="section-title">Architecture</h2>
            <p class="section-subtitle">Two-encoder/one-decoder paradigm with adversarial and cooperative learning</p>

            <div class="tabs">
                <button class="tab active" onclick="switchTab(event, 'overview-tab')">Overview</button>
                <button class="tab" onclick="switchTab(event, 'dataflow-tab')">Data Flow</button>
                <button class="tab" onclick="switchTab(event, 'training-tab')">Training Stages</button>
                <button class="tab" onclick="switchTab(event, 'components-tab')">Components</button>
            </div>

            <div id="overview-tab" class="tab-content active">
                <div class="mermaid">
graph TB
    subgraph Input
        S[Original Skeleton]
        D[Dummy Skeleton]
    end

    subgraph Encoders
        EM[Motion Encoder E_M<br/>Captures Action Info]
        EP[Privacy Encoder E_P<br/>Captures Identity Info]
    end

    subgraph Decoder
        DEC[Decoder D<br/>Reconstructs Skeleton]
    end

    subgraph Classifiers
        M[Motion Classifier M<br/>Predicts Action]
        P[Privacy Classifier P<br/>Predicts Actor ID]
        Q[Quality Controller Q<br/>Real vs Fake]
    end

    S --> EM
    S --> EP
    D --> EP

    EM --> DEC
    EP --> DEC

    EM -.Cooperative.-> M
    EP -.Adversarial.-> M

    EP -.Cooperative.-> P
    EM -.Adversarial.-> P

    DEC --> Q
    DEC --> OUT[Anonymized Skeleton]

    style EM fill:#6366f1
    style EP fill:#8b5cf6
    style DEC fill:#10b981
    style M fill:#f59e0b
    style P fill:#f59e0b
    style Q fill:#ef4444
    style OUT fill:#10b981
                </div>
                <p style="text-align: center; color: var(--text-secondary); margin-top: 1rem;">
                    PMR architecture showing the flow from input skeletons through encoders, decoder, and classifiers to produce anonymized output.
                </p>
            </div>

            <div id="dataflow-tab" class="tab-content">
                <div class="mermaid">
sequenceDiagram
    participant Original as Original Skeleton
    participant EM as Motion Encoder
    participant EP as Privacy Encoder
    participant D as Decoder
    participant Output as Anonymized Skeleton

    Note over Original: User's skeleton with PII
    Original->>EM: Extract motion features
    Note over EM: Action-specific<br/>temporal patterns

    Note over Original: Dummy skeleton
    Original->>EP: Extract privacy features
    Note over EP: Body shape,<br/>gait style

    EM->>D: Motion embedding
    EP->>D: Privacy embedding

    Note over D: Concatenate embeddings<br/>and reconstruct

    D->>Output: Generate skeleton
    Note over Output: Original motion +<br/>Dummy identity
                </div>
            </div>

            <div id="training-tab" class="tab-content">
                <div class="mermaid">
graph LR
    subgraph Stage1[Stage 1: Autoencoder Warm-up]
        S1A[5 Paired Epochs]
        S1B[20 Unpaired Epochs]
    end

    subgraph Stage2[Stage 2: Classifier Pre-training]
        S2A[20 Paired Epochs]
        S2B[50 Unpaired Epochs]
    end

    subgraph Stage3[Stage 3: Adversarial Training]
        S3[100 Unpaired Epochs<br/>Cooperative + Adversarial]
    end

    subgraph Stage4[Stage 4: Motion Retargeting]
        S4[100 Paired Epochs<br/>Cross-reconstruction]
    end

    S1A --> S1B
    S1B --> S2A
    S2A --> S2B
    S2B --> S3
    S3 --> S4

    style Stage1 fill:#6366f1
    style Stage2 fill:#8b5cf6
    style Stage3 fill:#f59e0b
    style Stage4 fill:#10b981
                </div>
                <div style="margin-top: 2rem;">
                    <h3 style="margin-bottom: 1rem;">Training Stages Explained</h3>
                    <div class="card">
                        <h4>Stage 1: Autoencoder Warm-up</h4>
                        <p>Trains encoders (E_M, E_P) and decoder (D) to reconstruct skeletons using reconstruction and smoothness losses. Establishes basic motion understanding.</p>
                    </div>
                    <div class="card" style="margin-top: 1rem;">
                        <h4>Stage 2: Classifier Pre-training</h4>
                        <p>Pre-trains motion classifier (M) and privacy classifier (P) on frozen encoder embeddings. Prepares classifiers for adversarial training.</p>
                    </div>
                    <div class="card" style="margin-top: 1rem;">
                        <h4>Stage 3: Unpaired Cooperative-Adversarial</h4>
                        <p>Unfreezes encoders and trains with cooperative and adversarial losses. M cooperates with E_M but adversarially trains against E_P, and vice versa for P.</p>
                    </div>
                    <div class="card" style="margin-top: 1rem;">
                        <h4>Stage 4: Paired Motion Retargeting</h4>
                        <p>Cross-reconstruction with triplet loss, latent consistency, and end-effector losses. Fine-tunes for anonymization quality.</p>
                    </div>
                </div>
            </div>

            <div id="components-tab" class="tab-content">
                <div class="card-grid">
                    <div class="card">
                        <h3>Motion Encoder (E_M)</h3>
                        <p><strong>Purpose:</strong> Extract action-specific temporal information</p>
                        <p><strong>Architecture:</strong> 4-layer CNN with reflection padding and max pooling</p>
                        <p><strong>Output:</strong> Motion embedding (256 Ã— 32)</p>
                    </div>
                    <div class="card">
                        <h3>Privacy Encoder (E_P)</h3>
                        <p><strong>Purpose:</strong> Extract skeleton structure and style (PII)</p>
                        <p><strong>Architecture:</strong> Identical to E_M but serves different purpose</p>
                        <p><strong>Output:</strong> Privacy embedding (256 Ã— 32)</p>
                    </div>
                    <div class="card">
                        <h3>Decoder (D)</h3>
                        <p><strong>Purpose:</strong> Reconstruct skeleton from embeddings</p>
                        <p><strong>Architecture:</strong> 4-layer transpose CNN with upsampling</p>
                        <p><strong>Input:</strong> Concatenated embeddings (512 Ã— 32)</p>
                    </div>
                    <div class="card">
                        <h3>Motion Classifier (M)</h3>
                        <p><strong>Purpose:</strong> Predict action from embeddings</p>
                        <p><strong>Training:</strong> Cooperative with E_M, adversarial with E_P</p>
                        <p><strong>Output:</strong> Action probabilities (60 or 120 classes)</p>
                    </div>
                    <div class="card">
                        <h3>Privacy Classifier (P)</h3>
                        <p><strong>Purpose:</strong> Predict actor ID from embeddings</p>
                        <p><strong>Training:</strong> Cooperative with E_P, adversarial with E_M</p>
                        <p><strong>Output:</strong> Actor probabilities (40 or 106 classes)</p>
                    </div>
                    <div class="card">
                        <h3>Quality Controller (Q)</h3>
                        <p><strong>Purpose:</strong> Distinguish real vs generated skeletons</p>
                        <p><strong>Architecture:</strong> GAN-style discriminator</p>
                        <p><strong>Output:</strong> Real/fake probability</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section id="results">
            <h2 class="section-title">Results</h2>
            <p class="section-subtitle">Comprehensive evaluation on NTU RGB+D datasets</p>

            <div class="tabs">
                <button class="tab active" onclick="switchTab(event, 'main-results-tab')">Main Results</button>
                <button class="tab" onclick="switchTab(event, 'visualizations-tab')">Visualizations</button>
                <button class="tab" onclick="switchTab(event, 'ablation-tab')">Ablation Study</button>
            </div>

            <div id="main-results-tab" class="tab-content active">
                <h3 style="margin-bottom: 1.5rem;">Performance Comparison on NTU RGB+D 60</h3>
                <div class="results-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>MSE â†“</th>
                                <th>AR Top-1 â†‘</th>
                                <th>AR Top-5 â†‘</th>
                                <th>Re-ID Top-1 â†“</th>
                                <th>Re-ID Top-5 â†“</th>
                                <th>Gender â†“</th>
                                <th>Linkage â†“</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Original</strong></td>
                                <td>-</td>
                                <td>82.2%</td>
                                <td>85.0%</td>
                                <td>87.8%</td>
                                <td>97.3%</td>
                                <td>88.7%</td>
                                <td>69.6%</td>
                            </tr>
                            <tr>
                                <td><strong>UNet (Moon et al.)</strong></td>
                                <td>0.0834</td>
                                <td>2.6%</td>
                                <td>11.1%</td>
                                <td class="highlight">3.0%</td>
                                <td>26.8%</td>
                                <td class="highlight">3.0%</td>
                                <td class="highlight">50.0%</td>
                            </tr>
                            <tr>
                                <td><strong>ResNet (Moon et al.)</strong></td>
                                <td>0.2988</td>
                                <td>1.8%</td>
                                <td>11.2%</td>
                                <td>9.1%</td>
                                <td>34.1%</td>
                                <td>9.0%</td>
                                <td>50.8%</td>
                            </tr>
                            <tr>
                                <td><strong>DMR (Baseline)</strong></td>
                                <td class="highlight">0.0071</td>
                                <td class="highlight">49.1%</td>
                                <td class="highlight">73.1%</td>
                                <td>25.7%</td>
                                <td>60.3%</td>
                                <td>25.7%</td>
                                <td class="highlight">50.0%</td>
                            </tr>
                            <tr style="background: rgba(99, 102, 241, 0.1);">
                                <td><strong>PMR (Ours)</strong></td>
                                <td>0.0138</td>
                                <td><span class="highlight">35.7%</span></td>
                                <td><span class="highlight">63.0%</span></td>
                                <td><span class="highlight">7.8%</span></td>
                                <td><span class="highlight">26.4%</span></td>
                                <td><span class="highlight">7.8%</span></td>
                                <td class="highlight">50.0%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-top: 3rem;">
                    <h3 style="margin-bottom: 1.5rem;">Key Findings</h3>
                    <div class="card-grid">
                        <div class="card">
                            <h4>ðŸŽ¯ Optimal Privacy-Utility Trade-off</h4>
                            <p>PMR achieves the best balance between privacy protection (7.8% Top-1 re-ID) and utility preservation (35.7% Top-1 action recognition).</p>
                        </div>
                        <div class="card">
                            <h4>ðŸ“Š Superior to Baselines</h4>
                            <p>Outperforms UNet by 13.7Ã— in action recognition (35.7% vs 2.6%) while maintaining strong privacy protection.</p>
                        </div>
                        <div class="card">
                            <h4>ðŸ”’ Strong Privacy Guarantees</h4>
                            <p>Reduces re-identification from 87.8% to 7.8% (Top-1) and linkage attacks to random chance (50.0%).</p>
                        </div>
                        <div class="card">
                            <h4>âš¡ Low Reconstruction Error</h4>
                            <p>MSE of 0.0138 ensures visually plausible skeletons while anonymizing identity, balancing between DMR (0.0071) and Moon's methods (0.0834+).</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="visualizations-tab" class="tab-content">
                <h3 style="margin-bottom: 1.5rem;">Embedding Space Visualizations</h3>
                <div class="image-grid">
                    <div class="image-card">
                        <img src="fig/action clustering.png" alt="Motion Embedding Clustering" onerror="this.parentElement.style.display='none'">
                        <div class="caption">Motion embeddings clustered by action class, showing clear separation of different actions.</div>
                    </div>
                    <div class="image-card">
                        <img src="fig/actor clustering.png" alt="Privacy Embedding Clustering" onerror="this.parentElement.style.display='none'">
                        <div class="caption">Privacy embeddings showing actor identity information is captured but not leaked to motion encoder.</div>
                    </div>
                </div>

                <h3 style="margin-bottom: 1.5rem; margin-top: 3rem;">Classifier Performance</h3>
                <div class="image-grid">
                    <div class="image-card">
                        <img src="fig/embedding utility acc.png" alt="Utility Classifier Accuracy" onerror="this.parentElement.style.display='none'">
                        <div class="caption">Motion classifier accuracy on motion vs privacy embeddings, demonstrating successful disentanglement.</div>
                    </div>
                    <div class="image-card">
                        <img src="fig/embedding priv acc.png" alt="Privacy Classifier Accuracy" onerror="this.parentElement.style.display='none'">
                        <div class="caption">Privacy classifier accuracy showing identity information is removed from motion embeddings.</div>
                    </div>
                </div>

                <h3 style="margin-bottom: 1.5rem; margin-top: 3rem;">Privacy-Utility Trade-off</h3>
                <div class="image-card" style="max-width: 600px; margin: 0 auto;">
                    <img src="fig/res scatter.png" alt="Results Scatter Plot" onerror="this.parentElement.style.display='none'">
                    <div class="caption">Scatter plot showing PMR achieves optimal balance between privacy protection and utility preservation.</div>
                </div>
            </div>

            <div id="ablation-tab" class="tab-content">
                <h3 style="margin-bottom: 1.5rem;">Ablation Study: Impact of Components (NTU-60 CV)</h3>
                <div class="results-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Configuration</th>
                                <th>M & P</th>
                                <th>L<sub>smooth</sub></th>
                                <th>L<sub>latent</sub></th>
                                <th>Q</th>
                                <th>MSE â†“</th>
                                <th>Re-ID â†“</th>
                                <th>AR â†‘</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>DMR (Baseline)</strong></td>
                                <td>âœ—</td>
                                <td>âœ—</td>
                                <td>âœ—</td>
                                <td>âœ—</td>
                                <td class="highlight">0.0060</td>
                                <td>25.7%</td>
                                <td class="highlight">49.1%</td>
                            </tr>
                            <tr style="border-top: 2px solid var(--border);">
                                <td><strong>PMR w/o M & P</strong></td>
                                <td>âœ—</td>
                                <td>âœ“</td>
                                <td>âœ“</td>
                                <td>âœ“</td>
                                <td>0.0081</td>
                                <td>15.8%</td>
                                <td>37.5%</td>
                            </tr>
                            <tr>
                                <td><strong>PMR w/o L<sub>smooth</sub></strong></td>
                                <td>âœ“</td>
                                <td>âœ—</td>
                                <td>âœ“</td>
                                <td>âœ“</td>
                                <td>0.0117</td>
                                <td>13.6%</td>
                                <td>27.4%</td>
                            </tr>
                            <tr>
                                <td><strong>PMR w/o L<sub>latent</sub></strong></td>
                                <td>âœ“</td>
                                <td>âœ“</td>
                                <td>âœ—</td>
                                <td>âœ“</td>
                                <td>0.0144</td>
                                <td>12.6%</td>
                                <td>32.6%</td>
                            </tr>
                            <tr>
                                <td><strong>PMR w/o Q</strong></td>
                                <td>âœ“</td>
                                <td>âœ“</td>
                                <td>âœ“</td>
                                <td>âœ—</td>
                                <td>0.0139</td>
                                <td>9.3%</td>
                                <td>29.6%</td>
                            </tr>
                            <tr style="background: rgba(99, 102, 241, 0.1); border-top: 2px solid var(--accent-primary);">
                                <td><strong>PMR (Full)</strong></td>
                                <td>âœ“</td>
                                <td>âœ“</td>
                                <td>âœ“</td>
                                <td>âœ“</td>
                                <td>0.0138</td>
                                <td class="highlight">7.8%</td>
                                <td class="highlight">35.6%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p style="margin-top: 1.5rem; color: var(--text-secondary);">
                    <strong>Key Insights:</strong> Removing M & P classifiers (adversarial training) significantly degrades privacy (15.8% re-ID vs 7.8%).
                    The smoothness loss is critical for maintaining action recognition quality.
                    Latent consistency and quality controller both contribute to the optimal privacy-utility balance.
                    Without any of these components, re-ID increases above the full model's 7.8%.
                </p>
            </div>
        </section>

        <!-- Usage Section -->
        <section id="usage">
            <h2 class="section-title">Getting Started</h2>
            <p class="section-subtitle">Quick start guide and usage examples</p>

            <div class="tabs">
                <button class="tab active" onclick="switchTab(event, 'install-tab')">Installation</button>
                <button class="tab" onclick="switchTab(event, 'train-tab')">Training</button>
                <button class="tab" onclick="switchTab(event, 'eval-tab')">Evaluation</button>
                <button class="tab" onclick="switchTab(event, 'api-tab')">Python API</button>
            </div>

            <div id="install-tab" class="tab-content active">
                <h3 style="margin-bottom: 1rem;">Installation</h3>
                <div class="code-block">
<pre># Clone the repository
git clone https://github.com/Thomasc33/Privacy-Retargeting.git
cd Privacy-Retargeting

# Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt</pre>
                </div>

                <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Requirements</h3>
                <div class="card-grid">
                    <div class="card">
                        <h4>Python 3.8+</h4>
                        <p>Modern Python version with type hints support</p>
                    </div>
                    <div class="card">
                        <h4>PyTorch 2.0+</h4>
                        <p>Deep learning framework with CUDA support</p>
                    </div>
                    <div class="card">
                        <h4>CUDA 11.8+</h4>
                        <p>For GPU acceleration (optional but recommended)</p>
                    </div>
                </div>
            </div>

            <div id="train-tab" class="tab-content">
                <h3 style="margin-bottom: 1rem;">Training PMR Model</h3>
                <div class="code-block">
<pre># Basic training on NTU-60
python cli.py train --dataset ntu60 --model pmr

# Training with custom parameters
python cli.py train \
    --dataset ntu60 \
    --model pmr \
    --batch-size 32 \
    --lr 1e-5 \
    --device cuda:0 \
    --checkpoint-dir checkpoints \
    --use-mlflow

# Training on NTU-120
python cli.py train --dataset ntu120 --model pmr

# Training DMR baseline (without adversarial learning)
python cli.py train --dataset ntu60 --model dmr</pre>
                </div>

                <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Training Stages</h3>
                <div class="card">
                    <p>PMR training consists of 4 stages totaling ~295 epochs:</p>
                    <ul style="margin-top: 1rem; margin-left: 1.5rem; color: var(--text-secondary);">
                        <li><strong>Stage 1:</strong> Autoencoder warm-up (25 epochs)</li>
                        <li><strong>Stage 2:</strong> Classifier pre-training (70 epochs)</li>
                        <li><strong>Stage 3:</strong> Adversarial training (100 epochs)</li>
                        <li><strong>Stage 4:</strong> Motion retargeting (100 epochs)</li>
                    </ul>
                    <p style="margin-top: 1rem; color: var(--text-secondary);">
                        Training takes approximately 6.5 hours on an NVIDIA RTX 3090 GPU.
                    </p>
                </div>
            </div>

            <div id="eval-tab" class="tab-content">
                <h3 style="margin-bottom: 1rem;">Evaluation</h3>
                <div class="code-block">
<pre># Evaluate trained model
python cli.py evaluate \
    --model-path checkpoints/pmr_best.pt \
    --dataset ntu60 \
    --output results.json

# Anonymize a skeleton sequence
python cli.py anonymize \
    --model-path checkpoints/pmr_best.pt \
    --input data/sample.pkl \
    --output data/anonymized.pkl

# Visualize results
python cli.py visualize \
    --input data/anonymized.pkl \
    --output video.gif

# Create comparison video
python cli.py compare \
    --original data/sample.pkl \
    --anonymized data/anonymized.pkl \
    --output comparison.gif</pre>
                </div>

                <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Evaluation Metrics</h3>
                <div class="card-grid">
                    <div class="card">
                        <h4>Utility Metrics</h4>
                        <p><strong>MSE:</strong> Reconstruction quality<br>
                        <strong>Action Recognition:</strong> Top-1 and Top-5 accuracy</p>
                    </div>
                    <div class="card">
                        <h4>Privacy Metrics</h4>
                        <p><strong>Re-identification:</strong> Top-1 and Top-5 accuracy<br>
                        <strong>Gender Classification:</strong> Binary accuracy<br>
                        <strong>Linkage Attack:</strong> Matching accuracy</p>
                    </div>
                </div>
            </div>

            <div id="api-tab" class="tab-content">
                <h3 style="margin-bottom: 1rem;">Python API</h3>
                <div class="code-block">
<pre>from models.pmr import PMRModel
import torch

# Load model
model = PMRModel(T=75, encoded_channels=(256, 32))
checkpoint = torch.load('checkpoints/pmr_best.pt')
model.load_state_dict(checkpoint['model_state_dict'])
model.eval()

# Anonymize skeleton
original = torch.randn(1, 75, 25, 3)  # (batch, frames, joints, coords)
dummy = torch.randn(1, 75, 25, 3)

with torch.no_grad():
    anonymized = model.cross_reconstruct(original, dummy)

# Get embeddings for analysis
motion_emb, privacy_emb = model.get_embeddings(original)

print(f"Motion embedding shape: {motion_emb.shape}")
print(f"Privacy embedding shape: {privacy_emb.shape}")
print(f"Anonymized skeleton shape: {anonymized.shape}")</pre>
                </div>

                <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Configuration</h3>
                <div class="code-block">
<pre>from configs.default_config import Config

# Load default config
config = Config()

# Customize parameters
config.training.batch_size = 64
config.training.lr = 5e-5
config.training.alpha_emb = 1.0  # Increase adversarial strength

# Use custom config in training
from training.trainer import PMRTrainer
trainer = PMRTrainer(config)
trainer.train()</pre>
                </div>
            </div>
        </section>

        <!-- Implementation Details -->
        <section id="implementation">
            <h2 class="section-title">Implementation Details</h2>
            <p class="section-subtitle">Technical specifications from the paper</p>

            <div class="card-grid">
                <div class="card">
                    <h3>Hardware</h3>
                    <p><strong>GPU:</strong> NVIDIA RTX 3090 (24GB)<br>
                    <strong>Training Time:</strong> ~6.5 hours<br>
                    <strong>Inference:</strong> 0.006s per sequence</p>
                </div>
                <div class="card">
                    <h3>Framework</h3>
                    <p><strong>Deep Learning:</strong> PyTorch 2.0+<br>
                    <strong>Optimization:</strong> Adam optimizer<br>
                    <strong>Learning Rate:</strong> 1e-5</p>
                </div>
                <div class="card">
                    <h3>Data</h3>
                    <p><strong>Datasets:</strong> NTU RGB+D 60/120<br>
                    <strong>Sequence Length:</strong> 75 frames<br>
                    <strong>Joints:</strong> 25 per skeleton</p>
                </div>
                <div class="card">
                    <h3>Architecture</h3>
                    <p><strong>Encoders:</strong> 4-layer CNN<br>
                    <strong>Decoder:</strong> 4-layer Transpose CNN<br>
                    <strong>Embedding:</strong> 256 Ã— 32</p>
                </div>
            </div>

            <h3 style="margin-top: 3rem; margin-bottom: 1rem;">Loss Function Weights</h3>
            <div class="results-table">
                <table>
                    <thead>
                        <tr>
                            <th>Loss Component</th>
                            <th>Weight (Î±)</th>
                            <th>Purpose</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Reconstruction</td>
                            <td>2.0</td>
                            <td>Ensure accurate skeleton reconstruction</td>
                        </tr>
                        <tr>
                            <td>Smoothness</td>
                            <td>3.0</td>
                            <td>Temporal consistency between frames</td>
                        </tr>
                        <tr>
                            <td>Cross-reconstruction</td>
                            <td>2.0</td>
                            <td>Motion transfer quality</td>
                        </tr>
                        <tr>
                            <td>Triplet</td>
                            <td>0.5</td>
                            <td>Embedding space structure</td>
                        </tr>
                        <tr>
                            <td>Latent Consistency</td>
                            <td>0.5</td>
                            <td>Consistent embeddings across views</td>
                        </tr>
                        <tr>
                            <td>End-effector</td>
                            <td>1.0</td>
                            <td>Preserve hand/foot positions</td>
                        </tr>
                        <tr>
                            <td>Adversarial (Embedding)</td>
                            <td>0.5</td>
                            <td>Disentangle motion and identity</td>
                        </tr>
                        <tr>
                            <td>Quality Controller</td>
                            <td>0.1</td>
                            <td>Realistic skeleton generation</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer>
        <div style="max-width: 1200px; margin: 0 auto;">
            <h3 style="margin-bottom: 1rem;">Privacy-centric Motion Retargeting</h3>
            <p style="margin-bottom: 2rem;">Anonymizing skeleton-based motion data while preserving action utility</p>

            <div style="display: flex; justify-content: center; gap: 2rem; margin-bottom: 2rem; flex-wrap: wrap;">
                <a href="https://github.com/Thomasc33/Privacy-Retargeting" style="color: var(--text-secondary); text-decoration: none;">
                    <i class="fab fa-github"></i> GitHub
                </a>
                <a href="https://openaccess.thecvf.com/content/ICCV2025/papers/Carr_Privacy-centric_Deep_Motion_Retargeting_for_Anonymization_of_Skeleton-Based_Motion_Visualization_ICCV_2025_paper.pdf" style="color: var(--text-secondary); text-decoration: none;">
                    <i class="fas fa-file-alt"></i> Paper
                </a>
                <a href="mailto:depeng.xu@charlotte.edu" style="color: var(--text-secondary); text-decoration: none;">
                    <i class="fas fa-envelope"></i> Contact
                </a>
            </div>

            <p style="font-size: 0.875rem;">
                Â© 2025 Thomas Carr, Depeng Xu, Shuhan Yuan, Aidong Lu
            </p>
            <p style="font-size: 0.875rem; margin-top: 0.5rem;">
                University of North Carolina at Charlotte
            </p>
        </div>
    </footer>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#6366f1',
                primaryTextColor: '#e4e4e7',
                primaryBorderColor: '#8b5cf6',
                lineColor: '#a1a1aa',
                secondaryColor: '#8b5cf6',
                tertiaryColor: '#1e2442',
                background: '#151932',
                mainBkg: '#151932',
                secondBkg: '#1e2442',
                textColor: '#e4e4e7',
                fontSize: '16px'
            }
        });

        // Tab switching function
        function switchTab(event, tabId) {
            // Get the parent section
            const section = document.getElementById(tabId).closest('section');

            // Hide all tab contents in this section
            const tabContents = section.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });

            // Remove active class from all tabs in this section
            const tabs = section.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab content
            document.getElementById(tabId).classList.add('active');

            // Add active class to clicked tab
            event.currentTarget.classList.add('active');
        }

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href !== '#' && href.startsWith('#')) {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        const navHeight = document.querySelector('nav').offsetHeight;
                        const targetPosition = target.offsetTop - navHeight - 20;
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });

        // Add scroll effect to navigation
        let lastScroll = 0;
        const nav = document.querySelector('nav');

        window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset;

            if (currentScroll > 100) {
                nav.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.3)';
            } else {
                nav.style.boxShadow = 'none';
            }

            lastScroll = currentScroll;
        });

        // Animate elements on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe cards and sections
        document.querySelectorAll('.card, section').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(el);
        });

        // Add copy button to code blocks
        document.querySelectorAll('.code-block').forEach(block => {
            const button = document.createElement('button');
            button.innerHTML = '<i class="fas fa-copy"></i>';
            button.style.cssText = `
                position: absolute;
                top: 1rem;
                right: 1rem;
                background: var(--accent-primary);
                color: white;
                border: none;
                padding: 0.5rem 1rem;
                border-radius: 0.25rem;
                cursor: pointer;
                opacity: 0;
                transition: opacity 0.3s;
            `;

            block.style.position = 'relative';
            block.appendChild(button);

            block.addEventListener('mouseenter', () => {
                button.style.opacity = '1';
            });

            block.addEventListener('mouseleave', () => {
                button.style.opacity = '0';
            });

            button.addEventListener('click', () => {
                const code = block.querySelector('pre').textContent;
                navigator.clipboard.writeText(code).then(() => {
                    button.innerHTML = '<i class="fas fa-check"></i>';
                    setTimeout(() => {
                        button.innerHTML = '<i class="fas fa-copy"></i>';
                    }, 2000);
                });
            });
        });

        // Console easter egg
        console.log('%cPMR - Privacy-centric Motion Retargeting', 'font-size: 20px; font-weight: bold; background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;');
        console.log('%cInterested in the code? Check out our GitHub: https://github.com/Thomasc33/Privacy-Retargeting', 'font-size: 14px; color: #a1a1aa;');
    </script>
</body>
</html>
